!RBIX
0
x
M
1
n
n
x
10
__script__
i
53
5
7
0
64
47
49
1
1
15
5
7
2
64
47
49
1
1
15
99
7
3
45
4
5
43
6
43
7
65
49
8
3
13
99
12
7
9
12
7
10
12
65
12
49
11
4
15
49
9
0
15
2
11
I
6
I
0
I
0
I
0
n
p
12
s
13
./test/helper
x
7
require
s
6
aws/s3
x
11
StorageTest
x
4
Test
n
x
4
Unit
x
8
TestCase
x
10
open_class
x
14
__class_init__
M
1
n
n
x
11
StorageTest
i
165
5
66
99
7
0
7
1
65
67
49
2
0
49
3
4
15
5
7
4
64
56
5
47
50
6
1
15
5
7
7
64
56
8
47
50
6
1
15
5
7
7
64
56
9
47
50
6
1
15
5
7
7
64
56
10
47
50
6
1
15
5
7
11
64
56
12
47
50
6
1
15
5
7
13
64
56
14
47
50
6
1
15
5
7
15
64
56
16
47
50
6
1
15
5
7
17
64
56
18
47
50
6
1
15
5
7
19
64
56
20
47
50
6
1
15
5
7
21
64
56
22
47
50
6
1
15
5
7
23
64
56
24
47
50
6
1
15
45
25
26
7
27
64
49
28
1
49
29
0
9
154
1
8
164
5
7
30
64
56
31
47
50
6
1
11
I
5
I
0
I
0
I
0
n
p
32
x
9
rails_env
M
1
n
n
x
9
rails_env
i
8
5
56
0
47
50
1
0
11
I
3
I
1
I
1
I
1
n
p
2
M
1
p
2
x
9
for_block
t
n
x
9
rails_env
i
34
45
0
1
7
2
5
7
3
64
44
43
4
79
49
5
1
13
7
6
21
1
0
49
7
2
15
47
49
8
2
49
9
2
11
I
9
I
0
I
0
I
0
I
-2
p
10
x
6
Object
n
x
5
Rails
s
5
Rails
x
4
Hash
x
16
new_from_literal
x
3
env
x
3
[]=
x
4
stub
x
9
const_set
p
5
I
0
I
6
I
0
I
7
I
22
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
16
silence_warnings
p
5
I
0
I
5
I
0
I
6
I
8
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
1
x
3
env
x
17
method_visibility
x
15
add_defn_method
s
22
Parsing S3 credentials
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
41
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
15
5
7
5
64
56
6
47
50
4
1
15
5
7
7
64
56
8
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
9
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
104
45
0
1
43
2
43
3
7
4
49
5
1
15
5
44
43
6
4
3
49
7
1
13
7
8
7
9
49
10
2
15
13
7
11
7
12
64
49
10
2
15
13
7
13
44
43
6
79
49
7
1
13
7
14
7
15
49
10
2
15
49
10
2
15
47
49
16
1
15
45
17
18
13
71
19
47
9
90
47
49
20
0
13
47
49
21
0
15
8
93
49
19
0
38
22
15
39
22
49
23
0
38
24
11
I
9
I
0
I
0
I
0
I
-2
p
25
x
3
AWS
n
x
2
S3
x
4
Base
x
21
establish_connection!
x
5
stubs
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
3
[]=
x
6
bucket
s
7
testing
x
14
s3_credentials
x
3
not
x
9
important
x
13
rebuild_model
x
5
Dummy
n
x
3
new
x
8
allocate
x
10
initialize
x
6
@dummy
x
6
avatar
x
7
@avatar
p
17
I
0
I
c
I
0
I
d
I
d
I
10
I
17
I
e
I
20
I
f
I
2a
I
10
I
45
I
12
I
60
I
13
I
68
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
56
get the correct credentials when RAILS_ENV is production
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
93
5
7
0
64
47
49
1
1
15
5
44
43
2
79
49
3
1
13
7
4
7
5
64
49
6
2
15
39
7
44
43
2
80
49
3
1
13
7
0
64
44
43
2
79
49
3
1
13
7
4
7
5
64
49
6
2
15
49
6
2
15
13
7
8
44
43
2
79
49
3
1
13
7
4
7
9
64
49
6
2
15
49
6
2
15
49
10
1
47
49
11
2
11
I
b
I
0
I
0
I
0
I
-2
p
12
s
10
production
x
9
rails_env
x
4
Hash
x
16
new_from_literal
x
3
key
s
5
12345
x
3
[]=
x
7
@avatar
x
11
development
s
5
54321
x
17
parse_credentials
x
12
assert_equal
p
19
I
0
I
16
I
0
I
17
I
9
I
18
I
1b
I
19
I
1d
I
1a
I
25
I
19
I
3e
I
1a
I
55
I
19
I
58
I
18
I
5d
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
s
57
get the correct credentials when RAILS_ENV is development
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
93
5
7
0
64
47
49
1
1
15
5
44
43
2
79
49
3
1
13
7
4
7
5
64
49
6
2
15
39
7
44
43
2
80
49
3
1
13
7
8
64
44
43
2
79
49
3
1
13
7
4
7
9
64
49
6
2
15
49
6
2
15
13
7
10
44
43
2
79
49
3
1
13
7
4
7
5
64
49
6
2
15
49
6
2
15
49
11
1
47
49
12
2
11
I
b
I
0
I
0
I
0
I
-2
p
13
s
11
development
x
9
rails_env
x
4
Hash
x
16
new_from_literal
x
3
key
s
5
54321
x
3
[]=
x
7
@avatar
s
10
production
s
5
12345
x
11
development
x
17
parse_credentials
x
12
assert_equal
p
19
I
0
I
1d
I
0
I
1e
I
9
I
1f
I
1b
I
20
I
1d
I
21
I
25
I
20
I
3e
I
21
I
55
I
20
I
58
I
1f
I
5d
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
45
return the argument if the key does not exist
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
54
5
7
0
64
47
49
1
1
15
5
44
43
2
79
49
3
1
13
7
4
7
5
64
49
6
2
15
39
7
44
43
2
79
49
3
1
13
7
4
7
5
64
49
6
2
15
49
8
1
47
49
9
2
11
I
8
I
0
I
0
I
0
I
-2
p
10
s
17
not really an env
x
9
rails_env
x
4
Hash
x
16
new_from_literal
x
4
test
s
5
12345
x
3
[]=
x
7
@avatar
x
17
parse_credentials
x
12
assert_equal
p
7
I
0
I
24
I
0
I
25
I
9
I
26
I
36
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
p
11
I
0
I
b
I
0
I
c
I
8
I
16
I
13
I
1d
I
1e
I
24
I
29
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
7
context
s
0

M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
147
45
0
1
43
2
43
3
7
4
49
5
1
15
5
44
43
6
4
5
49
7
1
13
7
8
7
9
49
10
2
15
13
7
11
44
43
6
78
49
7
1
49
10
2
15
13
7
12
7
13
64
49
10
2
15
13
7
14
7
15
64
49
10
2
15
13
7
16
7
17
64
49
10
2
15
47
49
18
1
15
45
19
20
13
71
21
47
9
101
47
49
22
0
13
47
49
23
0
15
8
104
49
21
0
38
24
15
39
24
45
25
26
13
71
21
47
9
133
47
49
22
0
13
7
27
64
47
49
23
1
15
8
139
7
27
64
49
21
1
13
18
2
49
28
1
15
11
I
7
I
0
I
0
I
0
I
-2
p
29
x
3
AWS
n
x
2
S3
x
4
Base
x
21
establish_connection!
x
5
stubs
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
3
[]=
x
14
s3_credentials
x
6
bucket
s
6
bucket
x
4
path
s
32
:attachment/:basename.:extension
x
3
url
s
12
:s3_path_url
x
13
rebuild_model
x
5
Dummy
n
x
3
new
x
8
allocate
x
10
initialize
x
6
@dummy
x
8
StringIO
n
s
1
.
x
7
avatar=
p
21
I
0
I
2b
I
0
I
2c
I
d
I
31
I
17
I
2d
I
20
I
2e
I
2e
I
2f
I
38
I
30
I
42
I
31
I
50
I
32
I
6b
I
33
I
93
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
32
return a url based on an S3 path
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
32
5
7
0
13
70
9
19
15
44
43
1
7
2
78
49
3
2
6
0
39
4
49
5
0
49
6
0
47
49
7
2
11
I
5
I
0
I
0
I
0
I
-2
p
8
n
x
6
Regexp
s
52
^http://s3.amazonaws.com/bucket/avatars/stringio.txt
x
3
new
x
6
@dummy
x
6
avatar
x
3
url
x
12
assert_match
p
5
I
0
I
36
I
0
I
37
I
20
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
2a
I
0
I
2b
I
8
I
36
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
147
45
0
1
43
2
43
3
7
4
49
5
1
15
5
44
43
6
4
5
49
7
1
13
7
8
7
9
49
10
2
15
13
7
11
44
43
6
78
49
7
1
49
10
2
15
13
7
12
7
13
64
49
10
2
15
13
7
14
7
15
64
49
10
2
15
13
7
16
7
17
64
49
10
2
15
47
49
18
1
15
45
19
20
13
71
21
47
9
101
47
49
22
0
13
47
49
23
0
15
8
104
49
21
0
38
24
15
39
24
45
25
26
13
71
21
47
9
133
47
49
22
0
13
7
27
64
47
49
23
1
15
8
139
7
27
64
49
21
1
13
18
2
49
28
1
15
11
I
7
I
0
I
0
I
0
I
-2
p
29
x
3
AWS
n
x
2
S3
x
4
Base
x
21
establish_connection!
x
5
stubs
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
3
[]=
x
14
s3_credentials
x
6
bucket
s
6
bucket
x
4
path
s
32
:attachment/:basename.:extension
x
3
url
s
14
:s3_domain_url
x
13
rebuild_model
x
5
Dummy
n
x
3
new
x
8
allocate
x
10
initialize
x
6
@dummy
x
8
StringIO
n
s
1
.
x
7
avatar=
p
21
I
0
I
3b
I
0
I
3c
I
d
I
41
I
17
I
3d
I
20
I
3e
I
2e
I
3f
I
38
I
40
I
42
I
41
I
50
I
42
I
6b
I
43
I
93
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
37
return a url based on an S3 subdomain
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
32
5
7
0
13
70
9
19
15
44
43
1
7
2
78
49
3
2
6
0
39
4
49
5
0
49
6
0
47
49
7
2
11
I
5
I
0
I
0
I
0
I
-2
p
8
n
x
6
Regexp
s
52
^http://bucket.s3.amazonaws.com/avatars/stringio.txt
x
3
new
x
6
@dummy
x
6
avatar
x
3
url
x
12
assert_match
p
5
I
0
I
46
I
0
I
47
I
20
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
3a
I
0
I
3b
I
8
I
46
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
195
45
0
1
43
2
43
3
7
4
49
5
1
15
5
44
43
6
4
5
49
7
1
13
7
8
7
9
49
10
2
15
13
7
11
44
43
6
80
49
7
1
13
7
12
44
43
6
79
49
7
1
13
7
13
7
14
64
49
10
2
15
49
10
2
15
13
7
15
44
43
6
79
49
7
1
13
7
13
7
16
64
49
10
2
15
49
10
2
15
49
10
2
15
13
7
17
7
18
64
49
10
2
15
13
7
19
7
20
64
49
10
2
15
13
7
21
7
22
64
49
10
2
15
47
49
23
1
15
45
24
25
13
71
26
47
9
149
47
49
27
0
13
47
49
28
0
15
8
152
49
26
0
38
29
15
39
29
45
30
31
13
71
26
47
9
181
47
49
27
0
13
7
32
64
47
49
28
1
15
8
187
7
32
64
49
26
1
13
18
2
49
33
1
15
11
I
c
I
0
I
0
I
0
I
-2
p
34
x
3
AWS
n
x
2
S3
x
4
Base
x
21
establish_connection!
x
5
stubs
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
3
[]=
x
14
s3_credentials
x
10
production
x
6
bucket
s
11
prod_bucket
x
11
development
s
10
dev_bucket
x
13
s3_host_alias
s
23
something.something.com
x
4
path
s
32
:attachment/:basename.:extension
x
3
url
s
13
:s3_alias_url
x
13
rebuild_model
x
5
Dummy
n
x
3
new
x
8
allocate
x
10
initialize
x
6
@dummy
x
8
StringIO
n
s
1
.
x
7
avatar=
p
27
I
0
I
4b
I
0
I
4c
I
d
I
54
I
17
I
4d
I
20
I
4e
I
22
I
51
I
2a
I
4f
I
42
I
50
I
5e
I
52
I
68
I
53
I
72
I
54
I
80
I
55
I
9b
I
56
I
c3
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
36
return a url based on the host_alias
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
32
5
7
0
13
70
9
19
15
44
43
1
7
2
78
49
3
2
6
0
39
4
49
5
0
49
6
0
47
49
7
2
11
I
5
I
0
I
0
I
0
I
-2
p
8
n
x
6
Regexp
s
52
^http://something.something.com/avatars/stringio.txt
x
3
new
x
6
@dummy
x
6
avatar
x
3
url
x
12
assert_match
p
5
I
0
I
59
I
0
I
5a
I
20
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
4a
I
0
I
4b
I
8
I
59
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
35
Generating a url with an expiration
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
251
45
0
1
43
2
43
3
7
4
49
5
1
15
5
44
43
6
4
5
49
7
1
13
7
8
7
9
49
10
2
15
13
7
11
44
43
6
80
49
7
1
13
7
12
44
43
6
79
49
7
1
13
7
13
7
14
64
49
10
2
15
49
10
2
15
13
7
15
44
43
6
79
49
7
1
13
7
13
7
16
64
49
10
2
15
49
10
2
15
49
10
2
15
13
7
17
7
18
64
49
10
2
15
13
7
19
7
20
64
49
10
2
15
13
7
21
7
22
64
49
10
2
15
47
49
23
1
15
5
7
24
64
47
49
25
1
15
45
26
27
13
71
28
47
9
158
47
49
29
0
13
47
49
30
0
15
8
161
49
28
0
38
31
15
39
31
45
32
33
13
71
28
47
9
190
47
49
29
0
13
7
34
64
47
49
30
1
15
8
196
7
34
64
49
28
1
13
18
2
49
35
1
15
15
45
0
36
43
2
43
37
7
38
49
39
1
7
40
64
7
14
64
44
43
6
79
49
7
1
13
7
41
7
42
49
10
2
15
49
43
3
15
39
31
49
44
0
49
45
0
11
I
c
I
0
I
0
I
0
I
-2
p
46
x
3
AWS
n
x
2
S3
x
4
Base
x
21
establish_connection!
x
5
stubs
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
3
[]=
x
14
s3_credentials
x
10
production
x
6
bucket
s
11
prod_bucket
x
11
development
s
10
dev_bucket
x
13
s3_host_alias
s
23
something.something.com
x
4
path
s
32
:attachment/:basename.:extension
x
3
url
s
13
:s3_alias_url
x
13
rebuild_model
s
10
production
x
9
rails_env
x
5
Dummy
n
x
3
new
x
8
allocate
x
10
initialize
x
6
@dummy
x
8
StringIO
n
s
1
.
x
7
avatar=
n
x
8
S3Object
x
7
url_for
x
7
expects
s
20
avatars/stringio.txt
x
10
expires_in
I
e10
x
4
with
x
6
avatar
x
12
expiring_url
p
33
I
0
I
5f
I
0
I
60
I
d
I
68
I
17
I
61
I
20
I
62
I
22
I
65
I
2a
I
63
I
42
I
64
I
5e
I
66
I
68
I
67
I
72
I
68
I
80
I
6a
I
89
I
6c
I
a4
I
6d
I
cc
I
6f
I
f2
I
71
I
fb
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
14
should succeed
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
7
5
2
47
49
0
1
11
I
3
I
0
I
0
I
0
I
-2
p
1
x
6
assert
p
5
I
0
I
74
I
0
I
75
I
7
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
5e
I
0
I
5f
I
8
I
74
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
44
Parsing S3 credentials with a bucket in them
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
30
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
15
5
7
5
64
56
6
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
7
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
124
45
0
1
43
2
43
3
7
4
49
5
1
15
5
44
43
6
80
49
7
1
13
7
8
7
9
49
10
2
15
13
7
11
44
43
6
80
49
7
1
13
7
12
44
43
6
79
49
7
1
13
7
13
7
14
64
49
10
2
15
49
10
2
15
13
7
15
44
43
6
79
49
7
1
13
7
13
7
16
64
49
10
2
15
49
10
2
15
49
10
2
15
47
49
17
1
15
45
18
19
13
71
20
47
9
118
47
49
21
0
13
47
49
22
0
15
8
121
49
20
0
38
23
11
I
c
I
0
I
0
I
0
I
-2
p
24
x
3
AWS
n
x
2
S3
x
4
Base
x
21
establish_connection!
x
5
stubs
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
3
[]=
x
14
s3_credentials
x
10
production
x
6
bucket
s
11
prod_bucket
x
11
development
s
10
dev_bucket
x
13
rebuild_model
x
5
Dummy
n
x
3
new
x
8
allocate
x
10
initialize
x
6
@dummy
p
21
I
0
I
7a
I
0
I
7b
I
d
I
80
I
16
I
7c
I
1f
I
7d
I
21
I
80
I
29
I
7e
I
41
I
7f
I
5c
I
80
I
61
I
81
I
7c
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
34
get the right bucket in production
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
26
5
7
0
64
47
49
1
1
15
5
7
2
64
39
3
49
4
0
49
5
0
47
49
6
2
11
I
4
I
0
I
0
I
0
I
-2
p
7
s
10
production
x
9
rails_env
s
11
prod_bucket
x
6
@dummy
x
6
avatar
x
11
bucket_name
x
12
assert_equal
p
7
I
0
I
84
I
0
I
85
I
9
I
86
I
1a
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
s
35
get the right bucket in development
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
26
5
7
0
64
47
49
1
1
15
5
7
2
64
39
3
49
4
0
49
5
0
47
49
6
2
11
I
4
I
0
I
0
I
0
I
-2
p
7
s
11
development
x
9
rails_env
s
10
dev_bucket
x
6
@dummy
x
6
avatar
x
11
bucket_name
x
12
assert_equal
p
7
I
0
I
89
I
0
I
8a
I
9
I
8b
I
1a
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
p
9
I
0
I
79
I
0
I
7a
I
8
I
84
I
13
I
89
I
1e
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
29
An attachment with S3 storage
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
41
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
15
5
7
5
64
56
6
47
50
4
1
15
5
7
7
64
56
8
47
50
9
1
11
I
4
I
0
I
0
I
0
I
-2
p
10
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
79
5
44
43
0
4
4
49
1
1
13
7
2
7
3
49
4
2
15
13
7
5
7
6
64
49
4
2
15
13
7
7
7
8
64
49
4
2
15
13
7
9
44
43
0
80
49
1
1
13
7
10
64
7
11
64
49
4
2
15
13
7
12
64
7
13
64
49
4
2
15
49
4
2
15
47
49
14
1
11
I
9
I
0
I
0
I
0
I
-2
p
15
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
3
[]=
x
6
bucket
s
7
testing
x
4
path
s
39
:attachment/:style/:basename.:extension
x
14
s3_credentials
s
13
access_key_id
s
5
12345
s
17
secret_access_key
s
5
54321
x
13
rebuild_model
p
21
I
0
I
90
I
0
I
97
I
a
I
91
I
13
I
92
I
1d
I
93
I
27
I
94
I
29
I
97
I
31
I
95
I
3c
I
96
I
4a
I
97
I
4f
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
28
be extended by the S3 module
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
43
5
45
0
1
13
71
2
47
9
22
47
49
3
0
13
47
49
4
0
15
8
25
49
2
0
49
5
0
45
6
7
43
8
43
9
49
10
1
47
49
11
1
11
I
4
I
0
I
0
I
0
I
-2
p
12
x
5
Dummy
n
x
3
new
x
8
allocate
x
10
initialize
x
6
avatar
x
9
Paperclip
n
x
7
Storage
x
2
S3
x
5
is_a?
x
6
assert
p
5
I
0
I
9a
I
0
I
9b
I
2b
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
s
40
not be extended by the Filesystem module
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
49
5
45
0
1
13
71
2
47
9
22
47
49
3
0
13
47
49
4
0
15
8
25
49
2
0
49
5
0
45
6
7
43
8
43
9
49
10
1
10
43
2
8
44
3
47
49
11
1
11
I
4
I
0
I
0
I
0
I
-2
p
12
x
5
Dummy
n
x
3
new
x
8
allocate
x
10
initialize
x
6
avatar
x
9
Paperclip
n
x
7
Storage
x
10
Filesystem
x
5
is_a?
x
6
assert
p
5
I
0
I
9e
I
0
I
9f
I
31
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
13
when assigned
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
60
5
56
0
47
50
1
0
15
5
56
2
47
50
3
0
15
5
7
4
64
56
5
47
50
6
1
15
5
7
7
64
56
8
47
50
9
1
15
5
7
10
64
56
11
47
50
9
1
15
5
7
12
64
56
13
47
50
9
1
11
I
4
I
0
I
0
I
0
I
-2
p
14
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
116
45
0
1
13
71
2
47
9
46
47
49
3
0
13
45
0
4
45
0
5
65
49
6
0
49
7
1
7
8
64
7
9
64
49
10
3
7
11
64
47
49
12
2
15
8
74
45
0
13
45
0
14
65
49
6
0
49
7
1
7
8
64
7
9
64
49
10
3
7
11
64
49
2
2
38
15
15
45
16
17
13
71
2
47
9
98
47
49
3
0
13
47
49
12
0
15
8
101
49
2
0
38
18
15
39
18
39
15
13
18
2
49
19
1
15
11
I
7
I
0
I
0
I
0
I
-2
p
20
x
4
File
n
x
3
new
x
8
allocate
n
n
x
11
active_path
x
7
dirname
s
8
fixtures
s
6
5k.png
x
4
join
s
2
rb
x
10
initialize
n
n
x
5
@file
x
5
Dummy
n
x
6
@dummy
x
7
avatar=
p
9
I
0
I
a3
I
0
I
a4
I
4d
I
a5
I
68
I
a6
I
74
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
6
39
0
49
1
0
11
I
2
I
0
I
0
I
0
I
-2
p
2
x
5
@file
x
5
close
p
3
I
0
I
a9
I
6
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
8
teardown
s
29
not get a bucket to get a URL
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
60
39
0
49
1
0
7
2
49
3
1
49
4
0
15
39
0
49
1
0
7
5
49
3
1
49
4
0
15
5
7
6
13
70
9
47
15
44
43
7
7
8
78
49
9
2
6
6
39
0
49
1
0
49
10
0
47
49
11
2
11
I
5
I
0
I
0
I
0
I
-2
p
12
x
6
@dummy
x
6
avatar
x
2
s3
x
7
expects
x
5
never
x
9
s3_bucket
n
x
6
Regexp
s
59
^http://s3\.amazonaws\.com/testing/avatars/original/5k\.png
x
3
new
x
3
url
x
12
assert_match
p
9
I
0
I
ab
I
0
I
ac
I
e
I
ad
I
1c
I
ae
I
3c
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
s
9
and saved
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
62
45
0
1
43
2
43
3
7
4
49
5
1
39
6
49
7
0
49
8
0
5
48
9
7
10
64
44
43
11
80
49
12
1
13
7
13
7
14
64
49
15
2
15
13
7
16
7
17
49
15
2
15
49
18
4
15
39
6
49
19
0
11
I
9
I
0
I
0
I
0
I
-2
p
20
x
3
AWS
n
x
2
S3
x
8
S3Object
x
5
store
x
5
stubs
x
6
@dummy
x
6
avatar
x
4
path
x
8
anything
s
7
testing
x
4
Hash
x
16
new_from_literal
x
12
content_type
s
9
image/png
x
3
[]=
x
6
access
x
11
public_read
x
4
with
x
4
save
p
7
I
0
I
b2
I
0
I
b3
I
38
I
b4
I
3e
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
7
succeed
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
7
5
2
47
49
0
1
11
I
3
I
0
I
0
I
0
I
-2
p
1
x
6
assert
p
5
I
0
I
b7
I
0
I
b8
I
7
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
b1
I
0
I
b2
I
8
I
b7
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
7
context
s
26
and saved without a bucket
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
105
99
7
0
45
1
2
43
3
43
4
45
1
5
43
3
49
6
3
15
1
15
45
1
7
43
3
43
8
7
9
49
10
1
7
11
64
49
12
1
15
45
1
13
43
3
43
14
7
15
49
16
1
45
1
17
43
3
43
0
13
71
18
47
9
81
47
49
19
0
13
7
20
7
21
47
49
22
2
15
8
88
7
20
7
21
49
18
2
49
23
1
49
24
0
2
49
25
1
15
39
26
49
27
0
11
I
6
I
0
I
0
I
0
I
-2
p
28
x
12
NoSuchBucket
x
3
AWS
n
x
2
S3
x
13
ResponseError
n
x
16
open_class_under
n
x
6
Bucket
x
6
create
x
7
expects
s
7
testing
x
4
with
n
x
8
S3Object
x
5
store
x
5
stubs
n
x
3
new
x
8
allocate
x
7
message
x
8
response
x
10
initialize
x
6
raises
x
4
then
x
7
returns
x
6
@dummy
x
4
save
p
11
I
0
I
bd
I
0
I
be
I
15
I
c1
I
28
I
c2
I
63
I
c3
I
69
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
7
succeed
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
7
5
2
47
49
0
1
11
I
3
I
0
I
0
I
0
I
-2
p
1
x
6
assert
p
5
I
0
I
c6
I
0
I
c7
I
7
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
bc
I
0
I
bd
I
8
I
c6
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
10
and remove
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
36
45
0
1
43
2
43
3
7
4
49
5
1
2
49
6
1
15
45
0
7
43
2
43
3
7
8
49
5
1
15
39
9
49
10
0
11
I
3
I
0
I
0
I
0
I
-2
p
11
x
3
AWS
n
x
2
S3
x
8
S3Object
x
7
exists?
x
5
stubs
x
7
returns
n
x
6
delete
x
6
@dummy
x
22
destroy_attached_files
p
9
I
0
I
cc
I
0
I
cd
I
11
I
ce
I
1e
I
cf
I
24
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
7
succeed
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
7
5
2
47
49
0
1
11
I
3
I
0
I
0
I
0
I
-2
p
1
x
6
assert
p
5
I
0
I
d2
I
0
I
d3
I
7
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
cb
I
0
I
cc
I
8
I
d2
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
p
15
I
0
I
a2
I
0
I
a3
I
8
I
a9
I
10
I
ab
I
1b
I
b1
I
26
I
bc
I
31
I
cb
I
3c
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
7
context
p
11
I
0
I
8f
I
0
I
90
I
8
I
9a
I
13
I
9e
I
1e
I
a2
I
29
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
58
An attachment with S3 storage and bucket defined as a Proc
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
73
45
0
1
43
2
43
3
7
4
49
5
1
15
5
44
43
6
4
3
49
7
1
13
7
8
7
9
49
10
2
15
13
7
11
5
56
12
47
50
13
0
49
10
2
15
13
7
14
44
43
6
79
49
7
1
13
7
15
7
16
49
10
2
15
49
10
2
15
47
49
17
1
11
I
9
I
0
I
0
I
0
I
-2
p
18
x
3
AWS
n
x
2
S3
x
4
Base
x
21
establish_connection!
x
5
stubs
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
3
[]=
x
6
bucket
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
21
57
19
0
15
7
0
20
0
49
1
0
49
2
0
47
49
3
0
63
2
11
I
4
I
1
I
1
I
1
n
p
4
s
7
bucket_
x
8
instance
x
5
other
x
4
to_s
p
3
I
0
I
dd
I
15
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
1
x
10
attachment
x
6
lambda
x
14
s3_credentials
x
3
not
x
9
important
x
13
rebuild_model
p
13
I
0
I
da
I
0
I
db
I
d
I
de
I
17
I
dc
I
20
I
dd
I
2e
I
de
I
49
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
25
get the right bucket name
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
146
5
7
0
64
45
1
2
13
71
3
47
9
42
47
49
4
0
13
44
43
5
79
49
6
1
13
7
7
7
8
64
49
9
2
15
47
49
10
1
15
8
62
44
43
5
79
49
6
1
13
7
7
7
8
64
49
9
2
15
49
3
1
49
11
0
49
12
0
47
49
13
2
15
5
7
14
64
45
1
15
13
71
3
47
9
115
47
49
4
0
13
44
43
5
79
49
6
1
13
7
7
7
16
64
49
9
2
15
47
49
10
1
15
8
135
44
43
5
79
49
6
1
13
7
7
7
16
64
49
9
2
15
49
3
1
49
11
0
49
12
0
47
49
13
2
11
I
9
I
0
I
0
I
0
I
-2
p
17
s
8
bucket_a
x
5
Dummy
n
x
3
new
x
8
allocate
x
4
Hash
x
16
new_from_literal
x
5
other
s
1
a
x
3
[]=
x
10
initialize
x
6
avatar
x
11
bucket_name
x
6
assert
s
8
bucket_b
n
s
1
b
p
7
I
0
I
e1
I
0
I
e2
I
49
I
e3
I
92
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
d9
I
0
I
da
I
8
I
e1
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
57
An attachment with S3 storage and specific s3 headers set
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
117
45
0
1
43
2
43
3
7
4
49
5
1
15
5
44
43
6
4
5
49
7
1
13
7
8
7
9
49
10
2
15
13
7
11
7
12
64
49
10
2
15
13
7
13
7
14
64
49
10
2
15
13
7
15
44
43
6
80
49
7
1
13
7
16
64
7
17
64
49
10
2
15
13
7
18
64
7
19
64
49
10
2
15
49
10
2
15
13
7
20
44
43
6
79
49
7
1
13
7
21
64
7
22
64
49
10
2
15
49
10
2
15
47
49
23
1
11
I
9
I
0
I
0
I
0
I
-2
p
24
x
3
AWS
n
x
2
S3
x
4
Base
x
21
establish_connection!
x
5
stubs
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
3
[]=
x
6
bucket
s
7
testing
x
4
path
s
39
:attachment/:style/:basename.:extension
x
14
s3_credentials
s
13
access_key_id
s
5
12345
s
17
secret_access_key
s
5
54321
x
10
s3_headers
s
13
Cache-Control
s
16
max-age=31557600
x
13
rebuild_model
p
23
I
0
I
e8
I
0
I
e9
I
d
I
f1
I
17
I
ea
I
20
I
eb
I
2a
I
ec
I
34
I
ed
I
36
I
f0
I
3e
I
ee
I
49
I
ef
I
58
I
f1
I
75
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
13
when assigned
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
27
5
56
0
47
50
1
0
15
5
56
2
47
50
3
0
15
5
7
4
64
56
5
47
50
6
1
11
I
4
I
0
I
0
I
0
I
-2
p
7
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
116
45
0
1
13
71
2
47
9
46
47
49
3
0
13
45
0
4
45
0
5
65
49
6
0
49
7
1
7
8
64
7
9
64
49
10
3
7
11
64
47
49
12
2
15
8
74
45
0
13
45
0
14
65
49
6
0
49
7
1
7
8
64
7
9
64
49
10
3
7
11
64
49
2
2
38
15
15
45
16
17
13
71
2
47
9
98
47
49
3
0
13
47
49
12
0
15
8
101
49
2
0
38
18
15
39
18
39
15
13
18
2
49
19
1
15
11
I
7
I
0
I
0
I
0
I
-2
p
20
x
4
File
n
x
3
new
x
8
allocate
n
n
x
11
active_path
x
7
dirname
s
8
fixtures
s
6
5k.png
x
4
join
s
2
rb
x
10
initialize
n
n
x
5
@file
x
5
Dummy
n
x
6
@dummy
x
7
avatar=
p
9
I
0
I
f5
I
0
I
f6
I
4d
I
f7
I
68
I
f8
I
74
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
6
39
0
49
1
0
11
I
2
I
0
I
0
I
0
I
-2
p
2
x
5
@file
x
5
close
p
3
I
0
I
fb
I
6
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
8
teardown
s
9
and saved
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
87
45
0
1
43
2
43
3
7
4
49
5
1
15
45
0
6
43
2
43
7
7
8
49
5
1
39
9
49
10
0
49
11
0
5
48
12
7
13
64
44
43
14
4
3
49
15
1
13
7
16
7
17
64
49
18
2
15
13
7
19
7
20
49
18
2
15
13
7
21
64
7
22
64
49
18
2
15
49
23
4
15
39
9
49
24
0
11
I
9
I
0
I
0
I
0
I
-2
p
25
x
3
AWS
n
x
2
S3
x
4
Base
x
21
establish_connection!
x
5
stubs
n
x
8
S3Object
x
5
store
x
6
@dummy
x
6
avatar
x
4
path
x
8
anything
s
7
testing
x
4
Hash
x
16
new_from_literal
x
12
content_type
s
9
image/png
x
3
[]=
x
6
access
x
11
public_read
s
13
Cache-Control
s
16
max-age=31557600
x
4
with
x
4
save
p
23
I
0
I
fe
I
0
I
ff
I
d
I
100
I
21
I
101
I
24
I
102
I
27
I
105
I
30
I
103
I
3a
I
104
I
43
I
105
I
4d
I
100
I
51
I
106
I
57
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
7
succeed
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
7
5
2
47
49
0
1
11
I
3
I
0
I
0
I
0
I
-2
p
1
x
6
assert
p
5
I
0
I
109
I
0
I
10a
I
7
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
fd
I
0
I
fe
I
8
I
109
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
7
context
p
9
I
0
I
f4
I
0
I
f5
I
8
I
fb
I
10
I
fd
I
1b
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
7
context
p
7
I
0
I
e7
I
0
I
e8
I
8
I
f4
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
40
with S3 credentials supplied as Pathname
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
185
45
0
1
7
2
64
7
3
64
13
18
3
49
4
2
15
15
45
0
5
7
6
64
7
7
64
13
18
3
49
4
2
15
15
45
0
8
7
9
64
7
10
64
13
18
3
49
4
2
15
15
5
7
11
64
47
49
12
1
15
5
44
43
13
80
49
14
1
13
7
15
7
16
49
4
2
15
13
7
17
45
18
19
13
71
20
47
9
117
47
49
21
0
13
45
22
23
45
22
24
65
49
25
0
49
26
1
49
27
1
47
49
28
1
15
8
136
45
22
29
45
22
30
65
49
25
0
49
26
1
49
27
1
49
20
1
7
31
64
49
27
1
49
4
2
15
47
49
32
1
15
45
33
34
49
35
0
15
45
33
36
13
71
20
47
9
179
47
49
21
0
13
47
49
28
0
15
8
182
49
20
0
38
37
11
I
a
I
0
I
0
I
0
I
-2
p
38
x
3
ENV
n
s
6
S3_KEY
s
12
pathname_key
x
3
[]=
n
s
9
S3_BUCKET
s
15
pathname_bucket
n
s
9
S3_SECRET
s
15
pathname_secret
s
4
test
x
9
rails_env
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
14
s3_credentials
x
8
Pathname
n
x
3
new
x
8
allocate
x
4
File
n
n
x
11
active_path
x
7
dirname
x
4
join
x
10
initialize
n
n
s
15
fixtures/s3.yml
x
13
rebuild_model
x
5
Dummy
n
x
10
delete_all
n
x
6
@dummy
p
21
I
0
I
111
I
0
I
112
I
11
I
113
I
22
I
114
I
33
I
116
I
3c
I
119
I
45
I
118
I
4e
I
119
I
97
I
11b
I
9e
I
11c
I
b9
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
21
parse the credentials
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
71
5
7
0
64
39
1
49
2
0
49
3
0
47
49
4
2
15
5
7
5
64
45
6
7
43
8
43
9
49
10
0
49
11
0
7
12
49
13
1
47
49
4
2
15
5
7
14
64
45
6
15
43
8
43
9
49
10
0
49
11
0
7
16
49
13
1
47
49
4
2
11
I
5
I
0
I
0
I
0
I
-2
p
17
s
15
pathname_bucket
x
6
@dummy
x
6
avatar
x
11
bucket_name
x
12
assert_equal
s
12
pathname_key
x
3
AWS
n
x
2
S3
x
4
Base
x
10
connection
x
7
options
x
13
access_key_id
x
2
[]
s
15
pathname_secret
n
x
17
secret_access_key
p
9
I
0
I
11f
I
0
I
120
I
11
I
121
I
2c
I
122
I
47
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
110
I
0
I
111
I
8
I
11f
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
s
34
with S3 credentials in a YAML file
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
19
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
5
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
185
45
0
1
7
2
64
7
3
64
13
18
3
49
4
2
15
15
45
0
5
7
6
64
7
7
64
13
18
3
49
4
2
15
15
45
0
8
7
9
64
7
10
64
13
18
3
49
4
2
15
15
5
7
11
64
47
49
12
1
15
5
44
43
13
80
49
14
1
13
7
15
7
16
49
4
2
15
13
7
17
45
18
19
13
71
20
47
9
120
47
49
21
0
13
45
18
22
45
18
23
65
49
24
0
49
25
1
7
26
64
49
27
2
47
49
28
1
15
8
142
45
18
29
45
18
30
65
49
24
0
49
25
1
7
26
64
49
27
2
49
20
1
49
4
2
15
47
49
31
1
15
45
32
33
49
34
0
15
45
32
35
13
71
20
47
9
179
47
49
21
0
13
47
49
28
0
15
8
182
49
20
0
38
36
11
I
a
I
0
I
0
I
0
I
-2
p
37
x
3
ENV
n
s
6
S3_KEY
s
7
env_key
x
3
[]=
n
s
9
S3_BUCKET
s
10
env_bucket
n
s
9
S3_SECRET
s
10
env_secret
s
4
test
x
9
rails_env
x
4
Hash
x
16
new_from_literal
x
7
storage
x
2
s3
x
14
s3_credentials
x
4
File
n
x
3
new
x
8
allocate
n
n
x
11
active_path
x
7
dirname
s
15
fixtures/s3.yml
x
4
join
x
10
initialize
n
n
x
13
rebuild_model
x
5
Dummy
n
x
10
delete_all
n
x
6
@dummy
p
21
I
0
I
127
I
0
I
128
I
11
I
129
I
22
I
12a
I
33
I
12c
I
3c
I
12f
I
45
I
12e
I
4e
I
12f
I
97
I
131
I
9e
I
133
I
b9
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
27
run it the file through ERB
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
71
5
7
0
64
39
1
49
2
0
49
3
0
47
49
4
2
15
5
7
5
64
45
6
7
43
8
43
9
49
10
0
49
11
0
7
12
49
13
1
47
49
4
2
15
5
7
14
64
45
6
15
43
8
43
9
49
10
0
49
11
0
7
16
49
13
1
47
49
4
2
11
I
5
I
0
I
0
I
0
I
-2
p
17
s
10
env_bucket
x
6
@dummy
x
6
avatar
x
11
bucket_name
x
12
assert_equal
s
7
env_key
x
3
AWS
n
x
2
S3
x
4
Base
x
10
connection
x
7
options
x
13
access_key_id
x
2
[]
s
10
env_secret
n
x
17
secret_access_key
p
9
I
0
I
136
I
0
I
137
I
11
I
138
I
2c
I
139
I
47
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
p
7
I
0
I
126
I
0
I
127
I
8
I
136
I
13
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
3
ENV
n
s
14
S3_TEST_BUCKET
x
2
[]
x
6
blank?
s
48
Using S3 for real, an attachment with S3 storage
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
30
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
15
5
7
5
64
56
6
47
50
7
1
11
I
4
I
0
I
0
I
0
I
-2
p
8
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
186
5
44
43
0
4
5
49
1
1
13
7
2
44
43
0
80
49
1
1
13
7
3
7
4
64
49
5
2
15
13
7
6
7
7
64
49
5
2
15
49
5
2
15
13
7
8
7
9
49
5
2
15
13
7
10
45
11
12
7
13
64
49
14
1
49
5
2
15
13
7
15
7
16
64
49
5
2
15
13
7
17
45
18
19
13
71
20
47
9
121
47
49
21
0
13
45
18
22
45
18
23
65
49
24
0
49
25
1
7
26
64
49
27
2
47
49
28
1
15
8
143
45
18
29
45
18
30
65
49
24
0
49
25
1
7
26
64
49
27
2
49
20
1
49
5
2
15
47
49
31
1
15
45
32
33
49
34
0
15
45
32
35
13
71
20
47
9
180
47
49
21
0
13
47
49
28
0
15
8
183
49
20
0
38
36
11
I
a
I
0
I
0
I
0
I
-2
p
37
x
4
Hash
x
16
new_from_literal
x
6
styles
x
5
thumb
s
7
100x100
x
3
[]=
x
6
square
s
6
32x32#
x
7
storage
x
2
s3
x
6
bucket
x
3
ENV
n
s
14
S3_TEST_BUCKET
x
2
[]
x
4
path
s
40
:class/:attachment/:id/:style.:extension
x
14
s3_credentials
x
4
File
n
x
3
new
x
8
allocate
n
n
x
11
active_path
x
7
dirname
s
6
s3.yml
x
4
join
x
10
initialize
n
n
x
13
rebuild_model
x
5
Dummy
n
x
10
delete_all
n
x
6
@dummy
p
19
I
0
I
13f
I
0
I
144
I
a
I
140
I
2c
I
141
I
35
I
142
I
45
I
143
I
4f
I
144
I
98
I
146
I
9f
I
147
I
ba
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
28
be extended by the S3 module
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
43
5
45
0
1
13
71
2
47
9
22
47
49
3
0
13
47
49
4
0
15
8
25
49
2
0
49
5
0
45
6
7
43
8
43
9
49
10
1
47
49
11
1
11
I
4
I
0
I
0
I
0
I
-2
p
12
x
5
Dummy
n
x
3
new
x
8
allocate
x
10
initialize
x
6
avatar
x
9
Paperclip
n
x
7
Storage
x
2
S3
x
5
is_a?
x
6
assert
p
5
I
0
I
14a
I
0
I
14b
I
2b
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
s
13
when assigned
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
38
5
56
0
47
50
1
0
15
5
56
2
47
50
3
0
15
5
7
4
64
56
5
47
50
6
1
15
5
7
7
64
56
8
47
50
9
1
11
I
4
I
0
I
0
I
0
I
-2
p
10
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
89
45
0
1
13
71
2
47
9
46
47
49
3
0
13
45
0
4
45
0
5
65
49
6
0
49
7
1
7
8
64
7
9
64
49
10
3
7
11
64
47
49
12
2
15
8
74
45
0
13
45
0
14
65
49
6
0
49
7
1
7
8
64
7
9
64
49
10
3
7
11
64
49
2
2
38
15
15
39
16
39
15
13
18
2
49
17
1
15
11
I
7
I
0
I
0
I
0
I
-2
p
18
x
4
File
n
x
3
new
x
8
allocate
n
n
x
11
active_path
x
7
dirname
s
8
fixtures
s
6
5k.png
x
4
join
s
2
rb
x
10
initialize
n
n
x
5
@file
x
6
@dummy
x
7
avatar=
p
7
I
0
I
14f
I
0
I
150
I
4d
I
151
I
59
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
6
39
0
49
1
0
11
I
2
I
0
I
0
I
0
I
-2
p
2
x
5
@file
x
5
close
p
3
I
0
I
154
I
6
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
8
teardown
s
42
still return a Tempfile when sent #to_file
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
22
5
45
0
1
43
2
39
3
49
4
0
49
5
0
49
6
0
47
49
7
2
11
I
4
I
0
I
0
I
0
I
-2
p
8
x
9
Paperclip
n
x
8
Tempfile
x
6
@dummy
x
6
avatar
x
7
to_file
x
5
class
x
12
assert_equal
p
5
I
0
I
156
I
0
I
157
I
16
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
s
9
and saved
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
30
5
56
0
47
50
1
0
15
5
7
2
64
56
3
47
50
4
1
15
5
7
5
64
56
6
47
50
4
1
11
I
4
I
0
I
0
I
0
I
-2
p
7
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
6
39
0
49
1
0
11
I
2
I
0
I
0
I
0
I
-2
p
2
x
6
@dummy
x
4
save
p
5
I
0
I
15b
I
0
I
15c
I
6
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
5
setup
s
8
be on S3
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
7
5
2
47
49
0
1
11
I
3
I
0
I
0
I
0
I
-2
p
1
x
6
assert
p
5
I
0
I
15f
I
0
I
160
I
7
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
6
should
s
39
generate a tempfile with the right name
M
1
p
2
x
9
for_block
t
n
x
11
StorageTest
i
46
39
0
49
1
0
49
2
0
19
0
15
5
7
3
13
70
9
30
15
44
43
4
7
5
78
49
6
2
6
3
45
7
8
20
0
49
9
0
49
10
1
47
49
11
2
11
I
6
I
1
I
0
I
0
I
-2
p
12
x
6
@dummy
x
6
avatar
x
7
to_file
n
x
6
Regexp
s
17
^original.*\.png$
x
3
new
x
4
File
n
x
4
path
x
8
basename
x
12
assert_match
p
7
I
0
I
163
I
0
I
164
I
b
I
165
I
2e
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
1
x
4
file
p
9
I
0
I
15a
I
0
I
15b
I
8
I
15f
I
13
I
163
I
1e
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
7
context
p
11
I
0
I
14e
I
0
I
14f
I
8
I
154
I
10
I
156
I
1b
I
15a
I
26
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
7
context
p
9
I
0
I
13e
I
0
I
13f
I
8
I
14a
I
13
I
14e
I
1e
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
p
29
I
2
I
5
I
10
I
b
I
1b
I
2a
I
26
I
3a
I
31
I
4a
I
3c
I
5e
I
47
I
79
I
52
I
8f
I
5d
I
d9
I
68
I
e7
I
73
I
110
I
7e
I
126
I
89
I
13d
I
9a
I
13e
I
a5
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
x
13
attach_method
p
7
I
0
I
1
I
9
I
2
I
12
I
4
I
35
x
56
/Users/jyurek/Development/paperclip/test/storage_test.rb
p
0
